{"ast":null,"code":"import _classCallCheck from\"/Users/tatsuyafujii/project/chatbot/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/Users/tatsuyafujii/project/chatbot/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _assertThisInitialized from\"/Users/tatsuyafujii/project/chatbot/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/assertThisInitialized\";import _inherits from\"/Users/tatsuyafujii/project/chatbot/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"/Users/tatsuyafujii/project/chatbot/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";import React from'react';import'./assets/styles/style.css';import defaultDataset from\"./dataset\";import{AnswersList,Chats}from\"./components\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var App=/*#__PURE__*/function(_React$Component){_inherits(App,_React$Component);var _super=_createSuper(App);function App(props){var _this;_classCallCheck(this,App);_this=_super.call(this,props);_this.displayNextQuestion=function(nextQuestionId){var chats=_this.state.chats;chats.push({text:_this.state.dataset[nextQuestionId].question,type:'question'});_this.setState({answers:_this.state.dataset[nextQuestionId].answers,chats:chats,currentId:nextQuestionId});};_this.selectAnswer=function(selectedAnswer,nextQuestionId){switch(true){case nextQuestionId==='init':_this.displayNextQuestion(nextQuestionId);break;case /^https:*/.test(nextQuestionId):var a=document.createElement('a');a.href=nextQuestionId;a.target='_blank';a.click();break;default:var chats=_this.state.chats;chats.push({text:selectedAnswer,type:'answer'});_this.setState({chats:chats});setTimeout(function(){return _this.displayNextQuestion(nextQuestionId);},500);break;}};_this.state={answers:[],//回答コンポーネントに表示するデータ\nchats:[],//チャットボットコンポーネントに表示するデータ\ncurrentId:\"init\",//現在の質問とID\ndataset:defaultDataset,//質問と回答のデータセット\nopen:false//問い合わせフォーム用モーダルの開閉を管理\n};_this.selectAnswer=_this.selectAnswer.bind(_assertThisInitialized(_this));return _this;}_createClass(App,[{key:\"componentDidUpdate\",value:function componentDidUpdate(prevProps,prevState,snapshot){var scrollArea=document.getElementById('scroll-area');if(scrollArea){scrollArea.scrollTop=scrollArea.scrollHeight;}}},{key:\"componentWillMount\",value:function componentWillMount(){var initAnswer=\"\";this.selectAnswer(initAnswer,this.state.currentId);}},{key:\"render\",value:function render(){return/*#__PURE__*/_jsx(\"section\",{className:\"c-section\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"c-box\",children:[/*#__PURE__*/_jsx(Chats,{chats:this.state.chats}),/*#__PURE__*/_jsx(AnswersList,{answers:this.state.answers,select:this.selectAnswer})]})});}}]);return App;}(React.Component);export default App;","map":{"version":3,"sources":["/Users/tatsuyafujii/project/chatbot/src/App.jsx"],"names":["React","defaultDataset","AnswersList","Chats","App","props","displayNextQuestion","nextQuestionId","chats","state","push","text","dataset","question","type","setState","answers","currentId","selectAnswer","selectedAnswer","test","a","document","createElement","href","target","click","setTimeout","open","bind","prevProps","prevState","snapshot","scrollArea","getElementById","scrollTop","scrollHeight","initAnswer","Component"],"mappings":"kwBAAA,MAAOA,CAAAA,KAAP,KAAkB,OAAlB,CACA,MAAO,2BAAP,CACA,MAAOC,CAAAA,cAAP,KAA2B,WAA3B,CACA,OAAQC,WAAR,CAAqBC,KAArB,KAAiC,cAAjC,C,2FAEMC,CAAAA,G,sGAEF,aAAYC,KAAZ,CAAmB,qCACf,uBAAMA,KAAN,EADe,MAYnBC,mBAZmB,CAYG,SAACC,cAAD,CAAoB,CACtC,GAAMC,CAAAA,KAAK,CAAE,MAAKC,KAAL,CAAWD,KAAxB,CACAA,KAAK,CAACE,IAAN,CAAW,CACPC,IAAI,CAAC,MAAKF,KAAL,CAAWG,OAAX,CAAmBL,cAAnB,EAAmCM,QADjC,CAEPC,IAAI,CAAE,UAFC,CAAX,EAIA,MAAKC,QAAL,CAAc,CACVC,OAAO,CAAE,MAAKP,KAAL,CAAWG,OAAX,CAAmBL,cAAnB,EAAmCS,OADlC,CAEVR,KAAK,CAAEA,KAFG,CAGVS,SAAS,CAACV,cAHA,CAAd,EAKH,CAvBkB,OAyBnBW,YAzBmB,CAyBJ,SAACC,cAAD,CAAiBZ,cAAjB,CAAoC,CAC/C,OAAQ,IAAR,EACI,IAAMA,CAAAA,cAAc,GAAK,MAAzB,CACI,MAAKD,mBAAL,CAAyBC,cAAzB,EACA,MACJ,IAAM,YAAWa,IAAX,CAAgBb,cAAhB,CAAN,CACI,GAAMc,CAAAA,CAAC,CAAGC,QAAQ,CAACC,aAAT,CAAuB,GAAvB,CAAV,CACAF,CAAC,CAACG,IAAF,CAASjB,cAAT,CACAc,CAAC,CAACI,MAAF,CAAW,QAAX,CACAJ,CAAC,CAACK,KAAF,GACA,MACJ,QACI,GAAMlB,CAAAA,KAAK,CAAG,MAAKC,KAAL,CAAWD,KAAzB,CACAA,KAAK,CAACE,IAAN,CAAY,CACRC,IAAI,CAAEQ,cADE,CAERL,IAAI,CAAE,QAFE,CAAZ,EAKA,MAAKC,QAAL,CAAc,CACVP,KAAK,CAACA,KADI,CAAd,EAIAmB,UAAU,CAAC,iBAAM,OAAKrB,mBAAL,CAAyBC,cAAzB,CAAN,EAAD,CAAiD,GAAjD,CAAV,CACA,MAtBR,CAwBH,CAlDkB,CAEf,MAAKE,KAAL,CAAa,CACTO,OAAO,CAAE,EADA,CACa;AACtBR,KAAK,CAAE,EAFE,CAEU;AACnBS,SAAS,CAAE,MAHF,CAGa;AACtBL,OAAO,CAAEX,cAJA,CAIgB;AACzB2B,IAAI,CAAE,KAAc;AALX,CAAb,CAOA,MAAKV,YAAL,CAAoB,MAAKA,YAAL,CAAkBW,IAAlB,+BAApB,CATe,aAUlB,C,kDA0CD,4BAAmBC,SAAnB,CAA8BC,SAA9B,CAAyCC,QAAzC,CAAkD,CAC9C,GAAMC,CAAAA,UAAU,CAAGX,QAAQ,CAACY,cAAT,CAAwB,aAAxB,CAAnB,CACA,GAAID,UAAJ,CAAe,CACXA,UAAU,CAACE,SAAX,CAAuBF,UAAU,CAACG,YAAlC,CACH,CACJ,C,kCAED,6BAAqB,CACjB,GAAMC,CAAAA,UAAU,CAAG,EAAnB,CACA,KAAKnB,YAAL,CAAkBmB,UAAlB,CAA8B,KAAK5B,KAAL,CAAWQ,SAAzC,EACH,C,sBAED,iBAAS,CACL,mBACI,gBAAS,SAAS,CAAE,WAApB,uBACI,aAAK,SAAS,CAAE,OAAhB,wBACI,KAAC,KAAD,EAAO,KAAK,CAAE,KAAKR,KAAL,CAAWD,KAAzB,EADJ,cAEI,KAAC,WAAD,EAAa,OAAO,CAAE,KAAKC,KAAL,CAAWO,OAAjC,CAA0C,MAAM,CAAE,KAAKE,YAAvD,EAFJ,GADJ,EADJ,CAQH,C,iBA3EalB,KAAK,CAACsC,S,EA8ExB,cAAelC,CAAAA,GAAf","sourcesContent":["import React from 'react';\nimport './assets/styles/style.css';\nimport defaultDataset from \"./dataset\";\nimport {AnswersList, Chats} from \"./components\";\n\nclass App extends React.Component{\n\n    constructor(props) {\n        super(props);\n        this.state = {\n            answers: [],　　　       //回答コンポーネントに表示するデータ\n            chats: [],　　　　　　　　　//チャットボットコンポーネントに表示するデータ\n            currentId: \"init\",　　　　//現在の質問とID\n            dataset: defaultDataset,　//質問と回答のデータセット\n            open: false　　　　　　　　 //問い合わせフォーム用モーダルの開閉を管理\n        }\n        this.selectAnswer = this.selectAnswer.bind(this);\n    }\n\n    displayNextQuestion = (nextQuestionId) => {\n        const chats =this.state.chats\n        chats.push({\n            text:this.state.dataset[nextQuestionId].question,\n            type: 'question'\n        })\n        this.setState({\n            answers: this.state.dataset[nextQuestionId].answers,\n            chats: chats,\n            currentId:nextQuestionId\n        })\n    }\n\n    selectAnswer = (selectedAnswer, nextQuestionId) => {\n        switch (true){\n            case (nextQuestionId === 'init'):\n                this.displayNextQuestion(nextQuestionId)\n                break;\n            case (/^https:*/.test(nextQuestionId)):\n                const a = document.createElement('a');\n                a.href = nextQuestionId;\n                a.target = '_blank';\n                a.click();\n                break;\n            default:\n                const chats = this.state.chats;\n                chats.push ({\n                    text: selectedAnswer,\n                    type: 'answer'\n                })\n\n                this.setState({\n                    chats:chats\n                })\n\n                setTimeout(() => this.displayNextQuestion(nextQuestionId), 500);\n                break;\n        }\n    }\n\n    componentDidUpdate(prevProps, prevState, snapshot){\n        const scrollArea = document.getElementById('scroll-area');\n        if (scrollArea){\n            scrollArea.scrollTop = scrollArea.scrollHeight;\n        }\n    }\n\n    componentWillMount() {\n        const initAnswer = \"\";\n        this.selectAnswer(initAnswer, this.state.currentId)\n    }\n\n    render() {\n        return (\n            <section className={\"c-section\"}>\n                <div className={\"c-box\"}>\n                    <Chats chats={this.state.chats}/>\n                    <AnswersList answers={this.state.answers} select={this.selectAnswer}/>\n                </div>\n            </section>\n        );\n    }\n}\n\nexport default App;\n"]},"metadata":{},"sourceType":"module"}